(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{11809:function(e,t,n){Promise.resolve().then(n.bind(n,47216))},50551:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r}});let o=n(99920);n(57437),n(2265);let a=o._(n(40148));function r(e,t){var n;let o={loading:e=>{let{error:t,isLoading:n,pastDelay:o}=e;return null}};"function"==typeof e&&(o.loader=e);let r={...o,...t};return(0,a.default)({...r,modules:null==(n=r.loadableGenerated)?void 0:n.modules})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},10912:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BailoutToCSR",{enumerable:!0,get:function(){return a}});let o=n(55592);function a(e){let{reason:t,children:n}=e;if("undefined"==typeof window)throw new o.BailoutToCSRError(t);return n}},40148:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return c}});let o=n(57437),a=n(2265),r=n(10912),d=n(61481);function i(e){return{default:e&&"default"in e?e.default:e}}let l={loader:()=>Promise.resolve(i(()=>null)),loading:null,ssr:!0},c=function(e){let t={...l,...e},n=(0,a.lazy)(()=>t.loader().then(i)),c=t.loading;function s(e){let i=c?(0,o.jsx)(c,{isLoading:!0,pastDelay:!0,error:null}):null,l=t.ssr?(0,o.jsxs)(o.Fragment,{children:["undefined"==typeof window?(0,o.jsx)(d.PreloadCss,{moduleIds:t.modules}):null,(0,o.jsx)(n,{...e})]}):(0,o.jsx)(r.BailoutToCSR,{reason:"next/dynamic",children:(0,o.jsx)(n,{...e})});return(0,o.jsx)(a.Suspense,{fallback:i,children:l})}return s.displayName="LoadableComponent",s}},61481:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"PreloadCss",{enumerable:!0,get:function(){return r}});let o=n(57437),a=n(58512);function r(e){let{moduleIds:t}=e;if("undefined"!=typeof window)return null;let n=(0,a.getExpectedRequestStore)("next/dynamic css"),r=[];if(n.reactLoadableManifest&&t){let e=n.reactLoadableManifest;for(let n of t){if(!e[n])continue;let t=e[n].files.filter(e=>e.endsWith(".css"));r.push(...t)}}return 0===r.length?null:(0,o.jsx)(o.Fragment,{children:r.map(e=>(0,o.jsx)("link",{precedence:"dynamic",rel:"stylesheet",href:n.assetPrefix+"/_next/"+encodeURI(e),as:"style"},e))})}},47216:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return l}});var o=n(57437),a=n(2265);n(50551);let r=e=>{let t=e.trim().split("\n"),n=t[0].split("	");return t.slice(1).map(e=>{let t=e.split("	");return n.reduce((e,n,o)=>(e[n]=t[o],e),{})})};var d=n(48888),i=n(71169),l=()=>{let e=(0,i.useRouter)(),[t,n]=(0,a.useState)([]),[l,c]=(0,a.useState)([]),[s,u]=(0,a.useState)([]),{nodes:f,setNodes:p,edges:_,setEdges:y}=(0,a.useContext)(d.I),g=(e,t)=>{let n=e.target.files[0],o=new FileReader;o.onload=e=>{let n=r(e.target.result);"interactions"===t?c(n):u(n)},o.readAsText(n)},m=e=>{let t={};return e.forEach(e=>{let{source:n,target:o}=e.data;t[n]=(t[n]||0)+1,t[o]=(t[o]||0)+1}),t};return(0,o.jsxs)("div",{children:[(0,o.jsx)("h1",{children:"Biological Network Visualization"}),(0,o.jsxs)("div",{style:{display:"flex",marginTop:"20px"},children:[(0,o.jsx)("h3",{style:{marginRight:"20px"},children:"Input Interactions"}),(0,o.jsx)("input",{type:"file",onChange:e=>g(e,"interactions"),accept:".tsv"})]}),(0,o.jsxs)("div",{style:{display:"flex",marginTop:"20px"},children:[(0,o.jsxs)("h3",{style:{marginRight:"20px"},children:["Protein Annotations",(0,o.jsx)("p",{style:{fontSize:"13px"},children:"(Not required)"})]}),(0,o.jsx)("input",{type:"file",onChange:e=>g(e,"annotations"),accept:".tsv"})]}),(0,o.jsx)("div",{style:{marginTop:"20px"},children:(0,o.jsx)("button",{onClick:()=>{let t=[...new Map(l.map(e=>({data:{id:e["#node1"],label:e["#node1"]}})).map(e=>[e.data.id,e])).values()].map(e=>{let t=s.find(t=>t["#node"]===e.data.id);return t?{data:{...e.data,...t}}:e}),n=new Set,o=l.flatMap(e=>{let t="".concat(e["#node1"],"_").concat(e.node2),o="".concat(e.node2,"_").concat(e["#node1"]);return n.has(t)||n.has(o)?[]:(n.add(t),n.add(o),[{data:{id:"".concat(e["#node1"],"_").concat(e.node2,"_combined"),source:e["#node1"],target:e.node2,score:e.combined_score,type:"combined_score"}},{data:{id:"".concat(e["#node1"],"_").concat(e.node2,"_neighborhood"),source:e["#node1"],target:e.node2,score:e.neighborhood_on_chromosome,type:"neighborhood_on_chromosome"}},{data:{id:"".concat(e["#node1"],"_").concat(e.node2,"_gene_fusion"),source:e["#node1"],target:e.node2,score:e.gene_fusion,type:"gene_fusion"}},{data:{id:"".concat(e["#node1"],"_").concat(e.node2,"_phylogenetic_cooccurrence"),source:e["#node1"],target:e.node2,score:e.phylogenetic_cooccurrence,type:"phylogenetic_cooccurrence"}},{data:{id:"".concat(e["#node1"],"_").concat(e.node2,"_homology"),source:e["#node1"],target:e.node2,score:e.homology,type:"homology"}},{data:{id:"".concat(e["#node1"],"_").concat(e.node2,"_coexpression"),source:e["#node1"],target:e.node2,score:e.coexpression,type:"coexpression"}},{data:{id:"".concat(e["#node1"],"_").concat(e.node2,"_experimentally_determined_interaction"),source:e["#node1"],target:e.node2,score:e.experimentally_determined_interaction,type:"experimentally_determined_interaction"}},{data:{id:"".concat(e["#node1"],"_").concat(e.node2,"_database_annotated"),source:e["#node1"],target:e.node2,score:e.database_annotated,type:"database_annotated"}},{data:{id:"".concat(e["#node1"],"_").concat(e.node2,"_automated_textmining"),source:e["#node1"],target:e.node2,score:e.automated_textmining,type:"automated_textmining"}}].filter(e=>0!==e.data.score&&"0"!==e.data.score))});y(o);let a=m(o),r=t.map(e=>({...e,data:{...e.data,size:a[e.data.id]?a[e.data.id]/1.5+25:25}}));p(r),console.log(o),console.log(r),e.push("/result")},children:"Visualize"})})]})}},48888:function(e,t,n){"use strict";n.d(t,{I:function(){return r},MyProvider:function(){return d}});var o=n(57437),a=n(2265);let r=(0,a.createContext)(),d=e=>{let{children:t}=e,[n,d]=(0,a.useState)([]),[i,l]=(0,a.useState)([]);return(0,o.jsx)(r.Provider,{value:{nodes:n,setNodes:d,edges:i,setEdges:l},children:t})}}},function(e){e.O(0,[971,23,744],function(){return e(e.s=11809)}),_N_E=e.O()}]);